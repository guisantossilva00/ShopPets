<template>
  <div class="slds-form-element">
    <lightning-input
      data-validate
      data-cardholder-name
      class="cardHolderName"
      onblur={handleCardHolderNameChange}
      name="cardHolderName"
      value={cardHolderName}
      label={labels.CardHolderNameLabel}
      placeholder={labels.CardHolderNamePlaceholder}
      max-length="26"
      required="true"
      onkeyup={preventSensitiveInformationPropagation}
      onkeydown={preventSensitiveInformationPropagation}
      onkeypress={preventSensitiveInformationPropagation}
      onchange={preventSensitiveInformationPropagation}
    >
    </lightning-input>
  </div>
  <div class="slds-grid slds-wrap">
    <div class="slds-form-element slds-size_1-of-1 slds-large-size_2-of-3">
      <lightning-input
        data-validate
        data-card-number
        class="cardNumber"
        onblur={handleCardNumberChange}
        name="cardNumber"
        value={cardNumber}
        label={labels.CardNumberLabel}
        placeholder={labels.CardNumberPlaceholder}
        pattern="(\d{14,16})"
        autocomplete="off"
        max-length="16"
        required="true"
        message-when-pattern-mismatch={labels.InvalidCreditCardNumber}
        onkeyup={preventSensitiveInformationPropagation}
        onkeydown={preventSensitiveInformationPropagation}
        onkeypress={preventSensitiveInformationPropagation}
        onchange={preventSensitiveInformationPropagation}
      >
      </lightning-input>
    </div>
    <div
      class="
        slds-form-element
        slds-size_1-of-1
        slds-large-size_1-of-3
        pb-p-left_x-small
      "
    >
      <lightning-input
        data-validate
        data-cvv
        class="cvv"
        onblur={handleCvvChange}
        name="cvv"
        value={cvv}
        label={labels.CvvLabel}
        placeholder={labels.CvvPlaceholder}
        pattern="(\d{3,4})"
        required="true"
        max-length="4"
        autocomplete="off"
        field-level-help={labels.CvvInfo}
        message-when-pattern-mismatch={labels.InvalidCvv}
        onkeyup={preventSensitiveInformationPropagation}
        onkeydown={preventSensitiveInformationPropagation}
        onkeypress={preventSensitiveInformationPropagation}
        onchange={preventSensitiveInformationPropagation}
      ></lightning-input>
    </div>
  </div>

  <div class="slds-grid">
    <div class="slds-form-element slds-col slds-p-right_x-small">
      <lightning-combobox
        data-validate
        data-expiry-month
        class="expiryMonth"
        onchange={handleExpiryMonthChange}
        name="expiryMonth"
        value={expiryMonth}
        label={labels.ExpiryMonthLabel}
        placeholder={labels.ExpiryMonthPlaceholder}
        options={expiryMonths}
        required="true"
      >
      </lightning-combobox>
    </div>
    <div class="slds-form-element slds-col">
      <lightning-combobox
        data-validate
        data-expiry-year
        class="expiryYear"
        onchange={handleExpiryYearChange}
        name="expiryYear"
        value={expiryYear}
        label={labels.ExpiryYearLabel}
        placeholder={labels.ExpiryYearPlaceholder}
        options={expiryYears}
        required="true"
      >
      </lightning-combobox>
    </div>
  </div>
  <template for:each={_3dsFields} for:item="field">
    <lightning-input
      aura:id={field.id}
      key={field.id}
      name={field.id}
      value={field.default}
      class={field.class}
    ></lightning-input>
  </template>
</template>