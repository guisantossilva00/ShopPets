<template>
  <div class="slds-form-element">
    <lightning-input
      data-validate
      data-cardholder-name
      class="cardHolderName"
      onblur={handleCardHolderNameChange}
      name="cardHolderName"
      value={cardHolderName}
      label={labels.CardHolderNameLabel}
      placeholder={labels.CardHolderNamePlaceholder}
      max-length="26"
      required="true"
      onkeyup={preventSensitiveInformationPropagation}
      onkeydown={preventSensitiveInformationPropagation}
      onkeypress={preventSensitiveInformationPropagation}
      onchange={preventSensitiveInformationPropagation}
    >
    </lightning-input>
  </div>
  <div class="slds-grid slds-wrap slds-gutters slds-grid_pull-padded-small">
    <div class="slds-col slds-size_1-of-1 slds-large-size_2-of-3">
      <div class="slds-form-element">
        <lightning-input
          data-validate
          data-card-number
          class="cardNumber"
          onblur={handleCardNumberChange}
          name="cardNumber"
          value={cardNumber}
          label={labels.CardNumberLabel}
          placeholder={labels.CardNumberPlaceholder}
          pattern="(\d{14,16})"
          autocomplete="off"
          max-length="16"
          required="true"
          message-when-pattern-mismatch={labels.InvalidCreditCardNumber}
          onkeyup={preventSensitiveInformationPropagation}
          onkeydown={preventSensitiveInformationPropagation}
          onkeypress={preventSensitiveInformationPropagation}
          onchange={preventSensitiveInformationPropagation}
        >
        </lightning-input>
      </div>
    </div>
    <div class="slds-col slds-col slds-size_1-of-1 slds-large-size_1-of-3">
      <div class="slds-form-element">
        <lightning-input
          data-validate
          data-cvv
          class="cvv"
          onblur={handleCvvChange}
          name="cvv"
          value={cvv}
          label={labels.CvvLabel}
          placeholder={labels.CvvPlaceholder}
          pattern="(\d{3,4})"
          required="true"
          max-length="4"
          autocomplete="off"
          field-level-help={labels.CvvInfo}
          message-when-pattern-mismatch={labels.InvalidCvv}
          onkeyup={preventSensitiveInformationPropagation}
          onkeydown={preventSensitiveInformationPropagation}
          onkeypress={preventSensitiveInformationPropagation}
          onchange={preventSensitiveInformationPropagation}
        ></lightning-input>
      </div>
    </div>
  </div>

  <div class="slds-grid slds-wrap slds-gutters slds-grid_pull-padded-small">
    <div class="slds-col slds-size_1-of-2">
      <div class="slds-form-element">
        <lightning-combobox
          data-validate
          data-expiry-month
          class="expiryMonth"
          onchange={handleExpiryMonthChange}
          name="expiryMonth"
          value={expiryMonth}
          label={labels.ExpiryMonthLabel}
          placeholder={labels.ExpiryMonthPlaceholder}
          options={expiryMonths}
          required="true"
        >
        </lightning-combobox>
      </div>
    </div>
    <div class="slds-col slds-size_1-of-2">
      <div class="slds-form-element">
        <lightning-combobox
          data-validate
          data-expiry-year
          class="expiryYear"
          onchange={handleExpiryYearChange}
          name="expiryYear"
          value={expiryYear}
          label={labels.ExpiryYearLabel}
          placeholder={labels.ExpiryYearPlaceholder}
          options={expiryYears}
          required="true"
        >
        </lightning-combobox>
      </div>
    </div>
  </div>

  <div class="slds-form-element">
    <lightning-combobox
      data-validate
      data-card-installments
      class="cardInstallments"
      onchange={handleInstallmentsChange}
      name="cardInstallments"
      value={cardInstallments}
      label={labels.CardInstallmentsLabel}
      placeholder={labels.CardInstallmentsPlaceholder}
      options={installments}
      required="true"
    >
    </lightning-combobox>
    <div class="slds-text-align_right slds-m-top_x-small" if:true={showFeeText}>
      <strong>* Total com juros: {feeTotal}</strong>
    </div>
  </div>
</template>